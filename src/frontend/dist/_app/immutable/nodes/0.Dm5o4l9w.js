import{g as x}from"../chunks/DMWDyL2v.js";import{a as k,i as w,b as A}from"../chunks/3xWfw-0N.js";import{M as q,N as z,a4 as M,j as O,n as u,r as f,v as R,x as c,y as _,z as d,q as T,a5 as U,J as D,t as F,b as J,A as N}from"../chunks/s4GdUkTq.js";import"../chunks/CWj6FrbW.js";import{i as Y}from"../chunks/heriVLba.js";import{i as h,s as B,a as y}from"../chunks/Bf4ltAop.js";import{n as E}from"../chunks/5uyD5zu_.js";function G(n,r,e,o,v){var i;q&&z();var s=(i=r.$$slots)==null?void 0:i[e],g=!1;s===!0&&(s=r.children,g=!0),s===void 0||s(n,g?()=>o:o)}const H=async({url:n})=>{{await k();const r=M(w),e=n.pathname;if(!r&&e!=="/login"){const o=e!=="/"?`?redirect=${encodeURIComponent(e)}`:"";await x(`/login${o}`,{replaceState:!0})}else if(r&&e==="/login"){const o=n.searchParams.get("redirect"),v=o?decodeURIComponent(o):"/";await x(v,{replaceState:!0})}}return{}},K=!1,sa=Object.freeze(Object.defineProperty({__proto__:null,load:H,ssr:K},Symbol.toStringTag,{value:"Module"}));var Q=u('<header class="bg-blue-600 text-white p-4 shadow-md"><div class="container mx-auto flex justify-between items-center"><a href="/" class="text-xl font-bold">ICP Calendar</a> <nav><button class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">Logout</button></nav></div></header>'),V=u('<div class="text-center p-8"><p>Loading...</p></div>'),W=u('<footer class="text-center p-4 mt-8 text-gray-600 text-sm"> </footer>'),X=u('<div class="min-h-screen bg-gray-100"><!> <main class="container mx-auto p-4"><!></main> <!></div>');function ia(n,r){O(r,!1);const[e,o]=B(),v=()=>y(w,"$isLoggedIn",e),s=()=>y(E,"$navigating",e),g=async()=>{await A()};Y();var i=X(),b=c(i);{var I=a=>{var t=Q(),l=c(t),m=_(c(l),2),S=c(m);d(m),d(l),d(t),T("click",S,g),f(a,t)};h(b,a=>{v()&&a(I)})}var p=_(b,2),$=c(p);{var C=a=>{var t=V();f(a,t)},L=a=>{var t=U(),l=D(t);G(l,r,"default",{}),f(a,t)};h($,a=>{s()?a(C):a(L,!1)})}d(p);var P=_(p,2);{var j=a=>{var t=W(),l=c(t);d(t),F(m=>N(l,`ICP Calendar App Â© ${m??""}`),[()=>new Date().getFullYear()],J),f(a,t)};h(P,a=>{v()&&a(j)})}d(i),f(n,i),R(),o()}export{ia as component,sa as universal};
