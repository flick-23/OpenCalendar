import{g as b}from"../chunks/DxdXVFf3.js";import{a as A,i as x,b as k}from"../chunks/DGpHpxxE.js";import{a7 as q,q as z,w as m,z as c,A as D,C as s,D as p,E as n,y as F,a8 as O,Q as R,x as T,b as U,F as E}from"../chunks/BXLc-fqL.js";import"../chunks/CWj6FrbW.js";import{i as M}from"../chunks/Dj7YT8ao.js";import{i as u,s as Q,a as h}from"../chunks/DZIK79hL.js";import{s as Y}from"../chunks/COUQgzWd.js";import{n as B}from"../chunks/bGQbrieO.js";const G=async({url:l})=>{{await A();const i=q(x),e=l.pathname;if(!i&&e!=="/login"){const o=e!=="/"?`?redirect=${encodeURIComponent(e)}`:"";await b(`/login${o}`,{replaceState:!0})}else if(i&&e==="/login"){const o=l.searchParams.get("redirect"),d=o?decodeURIComponent(o):"/";await b(d,{replaceState:!0})}}return{}},H=!1,sa=Object.freeze(Object.defineProperty({__proto__:null,load:G,ssr:H},Symbol.toStringTag,{value:"Module"}));var J=m('<header class="bg-blue-600 text-white p-4 shadow-md"><div class="container mx-auto flex justify-between items-center"><a href="/" class="text-xl font-bold">ICP Calendar</a> <nav><button class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">Logout</button></nav></div></header>'),K=m('<div class="text-center p-8"><p>Loading...</p></div>'),N=m('<footer class="text-center p-4 mt-8 text-gray-600 text-sm"> </footer>'),V=m('<div class="min-h-screen bg-gray-100"><!> <main class="container mx-auto p-4"><!></main> <!></div>');function na(l,i){z(i,!1);const[e,o]=Q(),d=()=>h(x,"$isLoggedIn",e),y=()=>h(B,"$navigating",e),w=async()=>{await k()};M();var g=V(),_=s(g);{var I=a=>{var t=J(),r=s(t),v=p(s(r),2),j=s(v);n(v),n(r),n(t),F("click",j,w),c(a,t)};u(_,a=>{d()&&a(I)})}var f=p(_,2),$=s(f);{var C=a=>{var t=K();c(a,t)},L=a=>{var t=O(),r=R(t);Y(r,i,"default",{}),c(a,t)};u($,a=>{y()?a(C):a(L,!1)})}n(f);var P=p(f,2);{var S=a=>{var t=N(),r=s(t);n(t),T(v=>E(r,`ICP Calendar App Â© ${v??""}`),[()=>new Date().getFullYear()],U),c(a,t)};u(P,a=>{d()&&a(S)})}n(g),c(l,g),D(),o()}export{na as component,sa as universal};
