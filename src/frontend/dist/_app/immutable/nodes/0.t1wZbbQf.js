import{g as x}from"../chunks/BMpwiHML.js";import{a as k,i as w,n as O,b as A}from"../chunks/Dzb02Au1.js";import{g as R,e as T,s as U}from"../chunks/DnqN1B_O.js";import"../chunks/CWj6FrbW.js";import"../chunks/CQrQ0qih.js";import{x as q,y as z,p as D,f as u,a as f,b as F,c,s as _,r as d,O as M,N,t as Y,P as B}from"../chunks/DzhpilHP.js";import{i as h,s as E,a as y}from"../chunks/BJkmK1v7.js";import{i as G}from"../chunks/DRIWHLjr.js";function H(n,r,e,o,v){var i;q&&z();var s=(i=r.$$slots)==null?void 0:i[e],g=!1;s===!0&&(s=r.children,g=!0),s===void 0||s(n,g?()=>o:o)}const J=async({url:n})=>{{await k();const r=R(w),e=n.pathname;if(!r&&e!=="/login"){const o=e!=="/"?`?redirect=${encodeURIComponent(e)}`:"";await x(`/login${o}`,{replaceState:!0})}else if(r&&e==="/login"){const o=n.searchParams.get("redirect"),v=o?decodeURIComponent(o):"/";await x(v,{replaceState:!0})}}return{}},K=!1,it=Object.freeze(Object.defineProperty({__proto__:null,load:J,ssr:K},Symbol.toStringTag,{value:"Module"}));var Q=u('<header class="bg-blue-600 text-white p-4 shadow-md"><div class="container mx-auto flex justify-between items-center"><a href="/" class="text-xl font-bold">ICP Calendar</a> <nav><button class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">Logout</button></nav></div></header>'),V=u('<div class="text-center p-8"><p>Loading...</p></div>'),W=u('<footer class="text-center p-4 mt-8 text-gray-600 text-sm"> </footer>'),X=u('<div class="min-h-screen bg-gray-100"><!> <main class="container mx-auto p-4"><!></main> <!></div>');function lt(n,r){D(r,!1);const[e,o]=E(),v=()=>y(w,"$isLoggedIn",e),s=()=>y(O,"$navigating",e),g=async()=>{await A()};G();var i=X(),b=c(i);{var I=t=>{var a=Q(),l=c(a),m=_(c(l),2),j=c(m);d(m),d(l),d(a),T("click",j,g),f(t,a)};h(b,t=>{v()&&t(I)})}var p=_(b,2),$=c(p);{var P=t=>{var a=V();f(t,a)},C=t=>{var a=M(),l=N(a);H(l,r,"default",{}),f(t,a)};h($,t=>{s()?t(P):t(C,!1)})}d(p);var L=_(p,2);{var S=t=>{var a=W(),l=c(a);d(a),Y(m=>U(l,`ICP Calendar App Â© ${m??""}`),[()=>new Date().getFullYear()],B),f(t,a)};h(L,t=>{v()&&t(S)})}d(i),f(n,i),F(),o()}export{lt as component,it as universal};
