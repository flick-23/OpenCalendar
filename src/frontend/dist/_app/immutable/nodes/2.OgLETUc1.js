import"../chunks/CWj6FrbW.js";import{i as Ae}from"../chunks/Cs4QL9IF.js";import{ae as Ce,j as Se,v as Z,k as w,af as Ne,l as ke,g as _,T as Me,n as xe,q as Oe,u as ve,w as j,A as K,ag as Ie,ah as Fe,x as pe,y as De,z as Le,ai as ee,aj as me,ak as ie,al as Ye,m as G,am as oe,an as $e,ao as Re,ap as He,aq as qe,ar as Ge,as as Pe,at as Ve,au as Be,av as Ue,aw as We,ax as ze,ay as Ke,az as Xe,aA as Je,aB as Qe,aC as Ze,aD as je,M as et,W as tt,aE as at,p as rt,o as nt,f as V,R as fe,t as te,e as q,a as P,b as st,s as m,c as F,r as S,h as ae,d as C,aF as lt,aG as vt}from"../chunks/eYI7KlxY.js";import{i as ue,s as it,a as ot}from"../chunks/2Ohol5Ic.js";function ft(e,t){return t}function ut(e,t,a,r){for(var s=[],n=t.length,l=0;l<n;l++)Re(t[l].e,s,!0);var f=n>0&&s.length===0&&a!==null;if(f){var g=a.parentNode;He(g),g.append(a),r.clear(),Y(e,t[0].prev,t[n-1].next)}qe(s,()=>{for(var h=0;h<n;h++){var v=t[h];f||(r.delete(v.k),Y(e,v.prev,v.next)),Ge(v.e,!f)}})}function de(e,t,a,r,s,n=null){var l=e,f={flags:t,items:new Map,first:null};{var g=e;l=w?Z(Ne(g)):g.appendChild(Ce())}w&&ke();var h=null,v=!1,p=Me(()=>{var i=a();return Ue(i)?i:i==null?[]:me(i)});Se(()=>{var i=_(p),u=i.length;if(v&&u===0)return;v=u===0;let o=!1;if(w){var b=xe(l)===Oe;b!==(u===0)&&(l=ve(),Z(l),j(!1),o=!0)}if(w){for(var E=null,d,y=0;y<u;y++){if(K.nodeType===Ie&&K.data===Fe){l=K,o=!0,j(!1);break}var $=i[y],x=r($,y);d=we(K,f,E,null,$,x,y,s,t,a),f.items.set(x,d),E=d}u>0&&Z(ve())}w||dt(i,f,l,s,t,r,a),n!==null&&(u===0?h?pe(h):h=De(()=>n(l)):h!==null&&Le(h,()=>{h=null})),o&&j(!0),_(p)}),w&&(l=K)}function dt(e,t,a,r,s,n,l){var f=e.length,g=t.items,h=t.first,v=h,p,i=null,u=[],o=[],b,E,d,y;for(y=0;y<f;y+=1){if(b=e[y],E=n(b,y),d=g.get(E),d===void 0){var $=v?v.e.nodes_start:a;i=we($,t,i,i===null?t.first:i.next,b,E,y,r,s,l),g.set(E,i),u=[],o=[],v=i.next;continue}if(ct(d,b,y),(d.e.f&ee)!==0&&pe(d.e),d!==v){if(p!==void 0&&p.has(d)){if(u.length<o.length){var x=o[0],T;i=x.prev;var B=u[0],U=u[u.length-1];for(T=0;T<u.length;T+=1)ce(u[T],x,a);for(T=0;T<o.length;T+=1)p.delete(o[T]);Y(t,B.prev,U.next),Y(t,i,B),Y(t,U,x),v=x,i=U,y-=1,u=[],o=[]}else p.delete(d),ce(d,v,a),Y(t,d.prev,d.next),Y(t,d,i===null?t.first:i.next),Y(t,i,d),i=d;continue}for(u=[],o=[];v!==null&&v.k!==E;)(v.e.f&ee)===0&&(p??(p=new Set)).add(v),o.push(v),v=v.next;if(v===null)continue;d=v}u.push(d),i=d,v=d.next}if(v!==null||p!==void 0){for(var R=p===void 0?[]:me(p);v!==null;)(v.e.f&ee)===0&&R.push(v),v=v.next;var J=R.length;if(J>0){var X=f===0?a:null;ut(t,R,X,g)}}ie.first=t.first&&t.first.e,ie.last=i&&i.e}function ct(e,t,a,r){Ye(e.v,t),e.i=a}function we(e,t,a,r,s,n,l,f,g,h){var v=(g&Pe)!==0,p=(g&Ve)===0,i=v?p?G(s,!1,!1):oe(s):s,u=(g&$e)===0?l:oe(l),o={i:u,v:i,k:n,a:null,e:null,prev:a,next:r};try{return o.e=De(()=>f(e,i,u,h),w),o.e.prev=a&&a.e,o.e.next=r&&r.e,a===null?t.first=o:(a.next=o,a.e.next=o.e),r!==null&&(r.prev=o,r.e.prev=o.e),o}finally{}}function ce(e,t,a){for(var r=e.next?e.next.e.nodes_start:a,s=t?t.e.nodes_start:a,n=e.e.nodes_start;n!==r;){var l=Be(n);s.before(n),n=l}}function Y(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}const he=[...` 	
\r\fÂ \v\uFEFF`];function ht(e,t,a){var r=""+e;if(a){for(var s in a)if(a[s])r=r?r+" "+s:s;else if(r.length)for(var n=s.length,l=0;(l=r.indexOf(s,l))>=0;){var f=l+n;(l===0||he.includes(r[l-1]))&&(f===r.length||he.includes(r[f]))?r=(l===0?"":r.substring(0,l))+r.substring(f+1):l=f}}return r===""?null:r}function _t(e,t,a,r,s,n){var l=e.__className;if(w||l!==a||l===void 0){var f=ht(a,r,n);(!w||f!==e.getAttribute("class"))&&(f==null?e.removeAttribute("class"):e.className=f),e.__className=a}else if(n&&s!==n)for(var g in n){var h=!!n[g];(s==null||h!==!!s[g])&&e.classList.toggle(g,h)}return n}const gt=Symbol("is custom element"),yt=Symbol("is html");function _e(e){if(w){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;se(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var s=e.checked;se(e,"checked",null),e.checked=s}}};e.__on_r=a,We(a),ze()}}function se(e,t,a,r){var s=Mt(e);w&&(s[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||s[t]!==(s[t]=a)&&(t==="loading"&&(e[Je]=a),a==null?e.removeAttribute(t):typeof a!="string"&&pt(e).includes(t)?e[t]=a:e.setAttribute(t,a))}function Mt(e){return e.__attributes??(e.__attributes={[gt]:e.nodeName.includes("-"),[yt]:e.namespaceURI===Ke})}var ge=new Map;function pt(e){var t=ge.get(e.nodeName);if(t)return t;ge.set(e.nodeName,t=[]);for(var a,r=e,s=Element.prototype;s!==r;){a=Qe(r);for(var n in a)a[n].set&&t.push(n);r=Xe(r)}return t}function ye(e,t,a=t){var r=Ze();je(e,"input",s=>{var n=s?e.defaultValue:e.value;if(n=re(e)?ne(n):n,a(n),r&&n!==(n=t())){var l=e.selectionStart,f=e.selectionEnd;e.value=n??"",f!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(f,e.value.length))}}),(w&&e.defaultValue!==e.value||et(t)==null&&e.value)&&a(re(e)?ne(e.value):e.value),tt(()=>{var s=t();re(e)&&s===ne(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function re(e){var t=e.type;return t==="number"||t==="range"}function ne(e){return e===""?null:+e}const Dt=[],be=at(Dt);function mt(e){be.update(t=>{const a={...e,id:t.length>0?Math.max(...t.map(r=>r.id))+1:1,date:new Date(e.date)};return[...t,a]})}function wt(e,t){return t.filter(a=>{const r=new Date(a.date);return r.getFullYear()===e.getFullYear()&&r.getMonth()===e.getMonth()&&r.getDate()===e.getDate()})}var bt=V('<div class="modal-backdrop svelte-t8v4y7"></div> <div class="event-form-modal svelte-t8v4y7"><h3 class="svelte-t8v4y7">Add New Event</h3> <label for="event-title" class="svelte-t8v4y7">Title:</label> <input type="text" id="event-title" class="svelte-t8v4y7"/> <label for="event-date" class="svelte-t8v4y7">Date:</label> <input type="date" id="event-date" class="svelte-t8v4y7"/> <div class="form-buttons svelte-t8v4y7"><button class="svelte-t8v4y7">Add Event</button> <button class="svelte-t8v4y7">Cancel</button></div></div>',1),Et=V('<div class="event svelte-t8v4y7"> </div>'),Tt=V('<div class="events svelte-t8v4y7"></div>'),At=V('<div><div class="day-number svelte-t8v4y7"> </div> <!></div>'),Ct=V('<!> <div class="calendar svelte-t8v4y7"><div class="header svelte-t8v4y7"><button class="svelte-t8v4y7">&lt;</button> <h2 class="svelte-t8v4y7"> </h2> <button class="svelte-t8v4y7">+ Add Event</button> <button class="svelte-t8v4y7">&gt;</button></div> <div class="days-of-week svelte-t8v4y7"><div class="svelte-t8v4y7">Sun</div> <div class="svelte-t8v4y7">Mon</div> <div class="svelte-t8v4y7">Tue</div> <div class="svelte-t8v4y7">Wed</div> <div class="svelte-t8v4y7">Thu</div> <div class="svelte-t8v4y7">Fri</div> <div class="svelte-t8v4y7">Sat</div></div> <div class="grid svelte-t8v4y7"></div></div>',1);function St(e,t){rt(t,!1);const[a,r]=it(),s=()=>ot(be,"$eventStore",a);let n=new Date,l=G(""),f=G(0),g=G([]);function h(){C(l,n.toLocaleString("default",{month:"long"})),C(f,n.getFullYear());const M=n.getFullYear(),c=n.getMonth(),A=new Date(M,c,1),O=new Date(M,c+1,0).getDate(),H=A.getDay(),N=[],L=new Date(M,c,0),I=H;for(let D=0;D<I;D++)N.unshift({date:new Date(L.getFullYear(),L.getMonth(),L.getDate()-D),isCurrentMonth:!1});for(let D=1;D<=O;D++)N.push({date:new Date(M,c,D),isCurrentMonth:!0});const z=(7-N.length%7)%7;for(let D=1;D<=z;D++)N.push({date:new Date(M,c+1,D),isCurrentMonth:!1});C(g,N)}function v(){n.setMonth(n.getMonth()-1),h()}function p(){n.setMonth(n.getMonth()+1),h()}nt(()=>{h()});function i(M){const c=new Date;return M.getDate()===c.getDate()&&M.getMonth()===c.getMonth()&&M.getFullYear()===c.getFullYear()}let u=G(!1),o=G(""),b=G(new Date().toISOString().split("T")[0]);function E(M){C(b,M.toISOString().split("T")[0]),C(u,!0)}function d(){if(_(o).trim()===""){alert("Please enter an event title.");return}mt({title:_(o),date:_(b)}),C(o,""),C(u,!1)}Ae();var y=Ct(),$=fe(y);{var x=M=>{var c=bt(),A=fe(c),W=m(A,2),O=m(F(W),4);_e(O);var H=m(O,4);_e(H);var N=m(H,2),L=F(N),I=m(L,2);S(N),S(W),q("click",A,()=>C(u,!1)),ye(O,()=>_(o),k=>C(o,k)),ye(H,()=>_(b),k=>C(b,k)),q("click",L,d),q("click",I,()=>C(u,!1)),P(M,c)};ue($,M=>{_(u)&&M(x)})}var T=m($,2),B=F(T),U=F(B),R=m(U,2),J=F(R);S(R);var X=m(R,2),Ee=m(X,2);S(B);var le=m(B,4);de(le,5,()=>_(g),ft,(M,c)=>{var A=At();let W;var O=F(A),H=F(O,!0);S(O);var N=m(O,2);{var L=I=>{var k=Tt();de(k,5,()=>wt(_(c).date,s()),z=>z.id,(z,D)=>{var Q=Et(),Te=F(Q,!0);S(Q),te(()=>ae(Te,_(D).title)),P(z,Q)}),S(k),P(I,k)};ue(N,I=>{_(c).isCurrentMonth&&I(L)})}S(A),te((I,k)=>{W=_t(A,1,"day svelte-t8v4y7",null,W,I),se(A,"title",_(c).isCurrentMonth?"Click to add event":""),ae(H,k)},[()=>({"not-current-month":!_(c).isCurrentMonth,today:i(_(c).date)&&_(c).isCurrentMonth}),()=>_(c).date.getDate()],Me),q("click",A,()=>_(c).isCurrentMonth&&E(_(c).date)),P(M,A)}),S(le),S(T),te(()=>ae(J,`${_(l)??""} ${_(f)??""}`)),q("click",U,v),q("click",X,()=>E(new Date)),q("click",Ee,p),P(e,y),st(),r()}var Nt=V('<meta name="description" content="A simple calendar application"/>'),kt=V('<div class="container svelte-wfmmt7"><h1 class="svelte-wfmmt7">ICP Calendar</h1> <!></div>');function Lt(e){var t=kt();lt(r=>{var s=Nt();vt.title="ICP Calendar",P(r,s)});var a=m(F(t),2);St(a,{}),S(t),P(e,t)}export{Lt as component};
