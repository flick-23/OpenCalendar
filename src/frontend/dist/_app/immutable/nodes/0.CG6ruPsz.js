import{g as x}from"../chunks/BFOVJj18.js";import{a as j,i as w,n as T,b as A}from"../chunks/C8vINzzV.js";import{g as O}from"../chunks/BDaeVcD9.js";import"../chunks/CWj6FrbW.js";import{i as R}from"../chunks/v4ZaCNkr.js";import{k as U,l as q,p as z,f as u,a as f,b as D,c,s as _,r as d,e as F,T as M,Q,t as V,V as Y,h as B}from"../chunks/JPv4EwoI.js";import{i as h,s as E,a as y}from"../chunks/DybeQGIX.js";function G(n,r,t,o,v){var i;U&&q();var s=(i=r.$$slots)==null?void 0:i[t],g=!1;s===!0&&(s=r.children,g=!0),s===void 0||s(n,g?()=>o:o)}const H=async({url:n})=>{{await j();const r=O(w),t=n.pathname;if(!r&&t!=="/login"){const o=t!=="/"?`?redirect=${encodeURIComponent(t)}`:"";await x(`/login${o}`,{replaceState:!0})}else if(r&&t==="/login"){const o=n.searchParams.get("redirect"),v=o?decodeURIComponent(o):"/";await x(v,{replaceState:!0})}}return{}},J=!1,sa=Object.freeze(Object.defineProperty({__proto__:null,load:H,ssr:J},Symbol.toStringTag,{value:"Module"}));var K=u('<header class="bg-blue-600 text-white p-4 shadow-md"><div class="container mx-auto flex justify-between items-center"><a href="/" class="text-xl font-bold">ICP Calendar</a> <nav><button class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">Logout</button></nav></div></header>'),N=u('<div class="text-center p-8"><p>Loading...</p></div>'),W=u('<footer class="text-center p-4 mt-8 text-gray-600 text-sm"> </footer>'),X=u('<div class="min-h-screen bg-gray-100"><!> <main class="container mx-auto p-4"><!></main> <!></div>');function ia(n,r){z(r,!1);const[t,o]=E(),v=()=>y(w,"$isLoggedIn",t),s=()=>y(T,"$navigating",t),g=async()=>{await A()};R();var i=X(),b=c(i);{var I=a=>{var e=K(),l=c(e),m=_(c(l),2),S=c(m);d(m),d(l),d(e),F("click",S,g),f(a,e)};h(b,a=>{v()&&a(I)})}var p=_(b,2),$=c(p);{var C=a=>{var e=N();f(a,e)},L=a=>{var e=M(),l=Q(e);G(l,r,"default",{}),f(a,e)};h($,a=>{s()?a(C):a(L,!1)})}d(p);var P=_(p,2);{var k=a=>{var e=W(),l=c(e);d(e),V(m=>B(l,`ICP Calendar App Â© ${m??""}`),[()=>new Date().getFullYear()],Y),f(a,e)};h(P,a=>{v()&&a(k)})}d(i),f(n,i),D(),o()}export{ia as component,sa as universal};
