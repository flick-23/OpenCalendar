import{g as x}from"../chunks/B-jD-U20.js";import{a as j,i as w,n as R,b as T}from"../chunks/cNirouDd.js";import{k as A,l as O,G as U,p as q,f as u,a as f,b as z,c,s as _,r as d,e as D,S as F,R as G,t as M,T as Y,h as B}from"../chunks/eYI7KlxY.js";import"../chunks/CWj6FrbW.js";import{i as E}from"../chunks/Cs4QL9IF.js";import{i as h,s as H,a as y}from"../chunks/2Ohol5Ic.js";function J(n,r,t,o,v){var i;A&&O();var s=(i=r.$$slots)==null?void 0:i[t],g=!1;s===!0&&(s=r.children,g=!0),s===void 0||s(n,g?()=>o:o)}const K=async({url:n})=>{{await j();const r=U(w),t=n.pathname;if(!r&&t!=="/login"){const o=t!=="/"?`?redirect=${encodeURIComponent(t)}`:"";await x(`/login${o}`,{replaceState:!0})}else if(r&&t==="/login"){const o=n.searchParams.get("redirect"),v=o?decodeURIComponent(o):"/";await x(v,{replaceState:!0})}}return{}},N=!1,na=Object.freeze(Object.defineProperty({__proto__:null,load:K,ssr:N},Symbol.toStringTag,{value:"Module"}));var Q=u('<header class="bg-blue-600 text-white p-4 shadow-md"><div class="container mx-auto flex justify-between items-center"><a href="/" class="text-xl font-bold">ICP Calendar</a> <nav><button class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">Logout</button></nav></div></header>'),V=u('<div class="text-center p-8"><p>Loading...</p></div>'),W=u('<footer class="text-center p-4 mt-8 text-gray-600 text-sm"> </footer>'),X=u('<div class="min-h-screen bg-gray-100"><!> <main class="container mx-auto p-4"><!></main> <!></div>');function sa(n,r){q(r,!1);const[t,o]=H(),v=()=>y(w,"$isLoggedIn",t),s=()=>y(R,"$navigating",t),g=async()=>{await T()};E();var i=X(),b=c(i);{var I=a=>{var e=Q(),l=c(e),m=_(c(l),2),k=c(m);d(m),d(l),d(e),D("click",k,g),f(a,e)};h(b,a=>{v()&&a(I)})}var p=_(b,2),$=c(p);{var C=a=>{var e=V();f(a,e)},L=a=>{var e=F(),l=G(e);J(l,r,"default",{}),f(a,e)};h($,a=>{s()?a(C):a(L,!1)})}d(p);var P=_(p,2);{var S=a=>{var e=W(),l=c(e);d(e),M(m=>B(l,`ICP Calendar App Â© ${m??""}`),[()=>new Date().getFullYear()],Y),f(a,e)};h(P,a=>{v()&&a(S)})}d(i),f(n,i),z(),o()}export{sa as component,na as universal};
